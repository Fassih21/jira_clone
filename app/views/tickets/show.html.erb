<div class="container my-4">
  <h1 class="fw-bold mb-3"><%= @ticket.title %></h1>
  <p><strong>Description:</strong> <%= @ticket.description %></p>
  <p><strong>Status:</strong> <%= @ticket.status.titleize %></p>
  <p><strong>Developer:</strong> <%= @ticket.dev&.name || "Unassigned" %></p>
  <p><strong>QA:</strong> <%= @ticket.qa&.name || "Unassigned" %></p>

  <div class="mt-3">
    <%= link_to "Back", tickets_path, class: "btn btn-outline-secondary" %>

    <% if policy(@ticket).edit? %>
      <%= link_to "Edit", edit_ticket_path(@ticket), class: "btn btn-outline-primary" %>
    <% end %>

    <% if policy(@ticket).destroy? %>
      <%= button_to "Delete", ticket_path(@ticket),
                    method: :delete,
                    form: { data: { turbo_confirm: "Are you sure?" }, class: "d-inline" },
                    class: "btn btn-danger" %>
    <% end %>

    <% if policy(@ticket).mark_done? && @ticket.status != "closed" %>
      <%= button_to "Mark Done", 
                    mark_done_ticket_path(@ticket),
                    method: :patch,
                    form: { data: { turbo_confirm: "Mark this ticket as done?" }, class: "d-inline" },
                    class: "btn btn-success" %>
    <% end %>
  </div>
</div>
